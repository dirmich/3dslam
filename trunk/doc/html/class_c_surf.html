<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>3DSlam: CSurf Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.6 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>CSurf Class Reference</h1><!-- doxytag: class="CSurf" -->SURF: Speeded Up Robust Features.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="surf_8h-source.html">surf.h</a>&gt;</code>
<p>

<p>
<a href="class_c_surf-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_surf.html#76c1a6c413d9e15d7b0ca84318f479de">CSurf</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_surf.html#fd26d3f53ec527e2907913c8fcc4a935">~CSurf</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_surf.html#4b9344138aa845798a53771453ef089e">block</a> (int x, int y, int h, int w, IplImage *I)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Calculates bloc filter using integral images.  <a href="#4b9344138aa845798a53771453ef089e"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_surf.html#894af97e7bb4cd99c0675cff10d69e83">wl_vert</a> (int x, int y, int s)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_surf.html#00277a7c86f4607d279d8714b03ea47d">wl_horz</a> (int x, int y, int s)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">float&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_surf.html#de86814c1a69f5b8b6f21ef725a5e86a">orientation</a> (int x, int y, int s)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_surf.html#83cbf1d677b2375f644bfd1e1966c0d9">descriptor</a> (int x, int y, int s, float dir)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">this function calculates the surf-64 descriptor for a given feature  <a href="#83cbf1d677b2375f644bfd1e1966c0d9"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">float&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_surf.html#04268b5975617a50044d8377ab2adec8">horiz</a> (int x, int y, int s, IplImage *region)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">float&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_surf.html#d6c07910002a0729a32fe48c483fe059">vert</a> (int x, int y, int s, IplImage *region)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_surf.html#2b3c7d777bb5519bffbd581022ea953e">non_max_sup</a> (double *det, IplImage **max, CvSeq *feat, int levels)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_surf.html#50de4c0e01f5b20ea5f5a26c52c64070">find_features</a> (IplImage *<a class="el" href="class_c_surf.html#b73cacd646eaa528151311451ec4dc73">img</a>, CvSeq *feat, int levels)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">extract surf features from an image  <a href="#50de4c0e01f5b20ea5f5a26c52c64070"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_surf.html#b5d6d6c96e285230b5a6a86ca4ba5ae4">nearest_neighbor_classify</a> (int *query, int *example_pairs, int n_examples)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">simple nearest neightbour classifier  <a href="#b5d6d6c96e285230b5a6a86ca4ba5ae4"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_surf.html#120a73cb93a4447d62c3d27713735be0">nearest_neighbor_2</a> (int *query, int *example_pairs, int n_examples, CvPoint p, CvMat *newmat, float dist)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">simple nearest neightbour classifier  <a href="#120a73cb93a4447d62c3d27713735be0"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_surf.html#2cec31580377cc854dd2a353a73a78b0">gaussian</a> (IplImage *<a class="el" href="class_c_surf.html#b73cacd646eaa528151311451ec4dc73">img</a>)</td></tr>

<tr><td colspan="2"><br><h2>Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">IplImage *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_surf.html#b73cacd646eaa528151311451ec4dc73">img</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">IplImage *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_surf.html#0ec2732a1d85f13d630f33c55e31d74f">integral</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_surf.html#9b93d361cb5370fffe7af508fadcc227">det_thres</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_surf.html#0614396528b98e1d8455b9c412f81274">cur_thres</a></td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
SURF: Speeded Up Robust Features. 
<p>
<dl class="author" compact><dt><b>Author:</b></dt><dd>Jorge Artieda</dd></dl>
This class implements a scale and rotation inveriant interest <a class="el" href="structpoint.html">point</a> detector and descriptor. The implementation is based on de paper "SURF: Speeded Up Robust Features" written by Herbert Bay et al. from ETH Zurich and Katholieke Universitet Leuven. A it is stated on the abstract of this paper SURF DETECTOR "Approximates or even outperforms previously proposed schemes with respect to repeatability, distinctiveness, and robustness, yet can be computed an compared much faster. This is achieved by ralying on integral images for image convolutions; by building on th strengths of the leading exiting detectors and descriptors (in casu, using a Hessian matrix-based measure for the detector , and a distribution-based descriptor); an dby simplifying these methods to the esential. This leads to a combination of novel detection description, and matching steps." 
<p>Definition at line <a class="el" href="surf_8h-source.html#l00023">23</a> of file <a class="el" href="surf_8h-source.html">surf.h</a>.</p>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="76c1a6c413d9e15d7b0ca84318f479de"></a><!-- doxytag: member="CSurf::CSurf" ref="76c1a6c413d9e15d7b0ca84318f479de" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CSurf::CSurf           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
constructor. Initializes thresholds 
<p>Definition at line <a class="el" href="surf_8cpp-source.html#l00011">11</a> of file <a class="el" href="surf_8cpp-source.html">surf.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="fd26d3f53ec527e2907913c8fcc4a935"></a><!-- doxytag: member="CSurf::~CSurf" ref="fd26d3f53ec527e2907913c8fcc4a935" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CSurf::~CSurf           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Destructor. Do nothing 
<p>Definition at line <a class="el" href="surf_8cpp-source.html#l00018">18</a> of file <a class="el" href="surf_8cpp-source.html">surf.cpp</a>.</p>

</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="4b9344138aa845798a53771453ef089e"></a><!-- doxytag: member="CSurf::block" ref="4b9344138aa845798a53771453ef089e" args="(int x, int y, int h, int w, IplImage *I)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double CSurf::block           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>w</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IplImage *&nbsp;</td>
          <td class="paramname"> <em>I</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Calculates bloc filter using integral images. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>x</em>&nbsp;</td><td>x coordinate of the upper left pixel of the block </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>y</em>&nbsp;</td><td>y coordinate of the upper left pixel of the block </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>h</em>&nbsp;</td><td>height of the block </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>w</em>&nbsp;</td><td>width of the block </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>I</em>&nbsp;</td><td>integral image</td></tr>
  </table>
</dl>
This function calculates the sum of the values contained in the the rectangle defined by x,y,w and h. The algorithm is based on integral images that can be calculated using cvIntegral function. <dl class="return" compact><dt><b>Returns:</b></dt><dd>sum of all the pixels in the block </dd></dl>

<p>Definition at line <a class="el" href="surf_8cpp-source.html#l00105">105</a> of file <a class="el" href="surf_8cpp-source.html">surf.cpp</a>.</p>

<p>Referenced by <a class="el" href="surf_8cpp-source.html#l00521">find_features()</a>, <a class="el" href="surf_8cpp-source.html#l00195">wl_horz()</a>, and <a class="el" href="surf_8cpp-source.html#l00183">wl_vert()</a>.</p>

</div>
</div><p>
<a class="anchor" name="894af97e7bb4cd99c0675cff10d69e83"></a><!-- doxytag: member="CSurf::wl_vert" ref="894af97e7bb4cd99c0675cff10d69e83" args="(int x, int y, int s)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double CSurf::wl_vert           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>s</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="surf_8cpp-source.html#l00183">183</a> of file <a class="el" href="surf_8cpp-source.html">surf.cpp</a>.</p>

<p>References <a class="el" href="surf_8cpp-source.html#l00105">block()</a>, and <a class="el" href="surf_8h-source.html#l00044">integral</a>.</p>

<p>Referenced by <a class="el" href="surf_8cpp-source.html#l00132">orientation()</a>.</p>

</div>
</div><p>
<a class="anchor" name="00277a7c86f4607d279d8714b03ea47d"></a><!-- doxytag: member="CSurf::wl_horz" ref="00277a7c86f4607d279d8714b03ea47d" args="(int x, int y, int s)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double CSurf::wl_horz           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>s</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="surf_8cpp-source.html#l00195">195</a> of file <a class="el" href="surf_8cpp-source.html">surf.cpp</a>.</p>

<p>References <a class="el" href="surf_8cpp-source.html#l00105">block()</a>, and <a class="el" href="surf_8h-source.html#l00044">integral</a>.</p>

<p>Referenced by <a class="el" href="surf_8cpp-source.html#l00132">orientation()</a>.</p>

</div>
</div><p>
<a class="anchor" name="de86814c1a69f5b8b6f21ef725a5e86a"></a><!-- doxytag: member="CSurf::orientation" ref="de86814c1a69f5b8b6f21ef725a5e86a" args="(int x, int y, int s)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float CSurf::orientation           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>s</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
a repeteable orientation for a given feature <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>x</em>&nbsp;</td><td>x coordinate of the feature </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>y</em>&nbsp;</td><td>y cooredinate of the feature </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>s</em>&nbsp;</td><td>scale at which the feature was found</td></tr>
  </table>
</dl>
This function estimates an orientatio that is repeteable. This orientation is used to get orientation invariance of the features. The algorithm first estimate vertical and horizontal haar wavelet response using integral images. Then the orientation is calculed as the greater sum of orientations in a sliding window of angle pi/3 <dl class="return" compact><dt><b>Returns:</b></dt><dd>orientation of the feature in radians </dd></dl>

<p>Definition at line <a class="el" href="surf_8cpp-source.html#l00132">132</a> of file <a class="el" href="surf_8cpp-source.html">surf.cpp</a>.</p>

<p>References <a class="el" href="surf_8cpp-source.html#l00195">wl_horz()</a>, and <a class="el" href="surf_8cpp-source.html#l00183">wl_vert()</a>.</p>

<p>Referenced by <a class="el" href="tracker__surf_8cpp-source.html#l00175">CTracker_surf::Descriptor()</a>, <a class="el" href="tracker__surf_8cpp-source.html#l00121">CTracker_surf::Init()</a>, and <a class="el" href="tracker__surf_8cpp-source.html#l00024">CTracker_surf::Match()</a>.</p>

</div>
</div><p>
<a class="anchor" name="83cbf1d677b2375f644bfd1e1966c0d9"></a><!-- doxytag: member="CSurf::descriptor" ref="83cbf1d677b2375f644bfd1e1966c0d9" args="(int x, int y, int s, float dir)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int * CSurf::descriptor           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&nbsp;</td>
          <td class="paramname"> <em>dir</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
this function calculates the surf-64 descriptor for a given feature 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>x</em>&nbsp;</td><td>x coordinate </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>y</em>&nbsp;</td><td>y coordinate </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>s</em>&nbsp;</td><td>scale of the feature </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>dir</em>&nbsp;</td><td>orientation of the feature This function calcualtes the surf-64 descritpor for a feature at the given position scale and orientation. </td></tr>
  </table>
</dl>

<p>
First a square of size 20*s x 20*s is extracted with the given orientation<p>
Then dx and dy responses are calculated using haar wavelets of size 2*s<p>
Finally the descriptor is calculated as the sum of dx, dy, |dx| and |dy| responses in each of the 16 squares of a 4 by 4 grid sampled int 5*s grid. 
<p>Definition at line <a class="el" href="surf_8cpp-source.html#l00213">213</a> of file <a class="el" href="surf_8cpp-source.html">surf.cpp</a>.</p>

<p>References <a class="el" href="surf_8cpp-source.html#l00602">gaussian()</a>, and <a class="el" href="surf_8h-source.html#l00043">img</a>.</p>

<p>Referenced by <a class="el" href="tracker__surf_8cpp-source.html#l00175">CTracker_surf::Descriptor()</a>, <a class="el" href="tracker__surf_8cpp-source.html#l00121">CTracker_surf::Init()</a>, and <a class="el" href="tracker__surf_8cpp-source.html#l00024">CTracker_surf::Match()</a>.</p>

</div>
</div><p>
<a class="anchor" name="04268b5975617a50044d8377ab2adec8"></a><!-- doxytag: member="CSurf::horiz" ref="04268b5975617a50044d8377ab2adec8" args="(int x, int y, int s, IplImage *region)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float CSurf::horiz           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IplImage *&nbsp;</td>
          <td class="paramname"> <em>region</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="surf_8cpp-source.html#l00342">342</a> of file <a class="el" href="surf_8cpp-source.html">surf.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="d6c07910002a0729a32fe48c483fe059"></a><!-- doxytag: member="CSurf::vert" ref="d6c07910002a0729a32fe48c483fe059" args="(int x, int y, int s, IplImage *region)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float CSurf::vert           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IplImage *&nbsp;</td>
          <td class="paramname"> <em>region</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="surf_8cpp-source.html#l00369">369</a> of file <a class="el" href="surf_8cpp-source.html">surf.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="2b3c7d777bb5519bffbd581022ea953e"></a><!-- doxytag: member="CSurf::non_max_sup" ref="2b3c7d777bb5519bffbd581022ea953e" args="(double *det, IplImage **max, CvSeq *feat, int levels)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CSurf::non_max_sup           </td>
          <td>(</td>
          <td class="paramtype">double *&nbsp;</td>
          <td class="paramname"> <em>det</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IplImage **&nbsp;</td>
          <td class="paramname"> <em>max</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CvSeq *&nbsp;</td>
          <td class="paramname"> <em>feat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>levels</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
non maximum suppression <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>det</em>&nbsp;</td><td>array containing the information of the hessian determinant at several levels </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>max</em>&nbsp;</td><td>not used </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>feat</em>&nbsp;</td><td>sequence of featrues returned </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>levels</em>&nbsp;</td><td>number of piramid levels The maximum is searched in a 3 x 3 x 3 neightbourhood </td></tr>
  </table>
</dl>

<p>
the maximum is accepted if det[] is greater than det_thres and the ratio between the maximum and the second bigger is greater than cur_thres 
<p>Definition at line <a class="el" href="surf_8cpp-source.html#l00029">29</a> of file <a class="el" href="surf_8cpp-source.html">surf.cpp</a>.</p>

<p>References <a class="el" href="surf_8h-source.html#l00046">cur_thres</a>, <a class="el" href="surf_8h-source.html#l00045">det_thres</a>, and <a class="el" href="surf_8h-source.html#l00043">img</a>.</p>

<p>Referenced by <a class="el" href="surf_8cpp-source.html#l00521">find_features()</a>.</p>

</div>
</div><p>
<a class="anchor" name="50de4c0e01f5b20ea5f5a26c52c64070"></a><!-- doxytag: member="CSurf::find_features" ref="50de4c0e01f5b20ea5f5a26c52c64070" args="(IplImage *img, CvSeq *feat, int levels)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CSurf::find_features           </td>
          <td>(</td>
          <td class="paramtype">IplImage *&nbsp;</td>
          <td class="paramname"> <em>_img</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CvSeq *&nbsp;</td>
          <td class="paramname"> <em>feat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>levels</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
extract surf features from an image 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>img</em>&nbsp;</td><td>image </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>feat</em>&nbsp;</td><td>sequence of returned features </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>levels</em>&nbsp;</td><td>number of levels of the pyramid. This funcion extracts surf features from an image. Function is based on Integral images to improve the performance of the filters. </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="surf_8cpp-source.html#l00521">521</a> of file <a class="el" href="surf_8cpp-source.html">surf.cpp</a>.</p>

<p>References <a class="el" href="surf_8cpp-source.html#l00105">block()</a>, <a class="el" href="main_8cpp-source.html#l00034">c</a>, <a class="el" href="surf_8h-source.html#l00043">img</a>, <a class="el" href="surf_8h-source.html#l00044">integral</a>, and <a class="el" href="surf_8cpp-source.html#l00029">non_max_sup()</a>.</p>

<p>Referenced by <a class="el" href="tracker__surf_8cpp-source.html#l00121">CTracker_surf::Init()</a>, and <a class="el" href="tracker__surf_8cpp-source.html#l00024">CTracker_surf::Match()</a>.</p>

</div>
</div><p>
<a class="anchor" name="b5d6d6c96e285230b5a6a86ca4ba5ae4"></a><!-- doxytag: member="CSurf::nearest_neighbor_classify" ref="b5d6d6c96e285230b5a6a86ca4ba5ae4" args="(int *query, int *example_pairs, int n_examples)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int CSurf::nearest_neighbor_classify           </td>
          <td>(</td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>query</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>example_pairs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>n_examples</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
simple nearest neightbour classifier 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>query</em>&nbsp;</td><td>vector of 64 integer to classify </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>example_pairs</em>&nbsp;</td><td>vector of 64*samples in which the query vectors are classified </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>n_examples</em>&nbsp;</td><td>number fo samples in example_pairs vector This function is a simple classifier based on the euclidean distance. Best match is the one with less distance to the samples. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>the number of the category or -1 if it's not found. </dd></dl>

<p>
If a result has a distance less than 15000 and a ratio between the minimum distance and the second best greater than 0.9 the <a class="el" href="structpoint.html">point</a> is rejected as not found 
<p>Definition at line <a class="el" href="surf_8cpp-source.html#l00405">405</a> of file <a class="el" href="surf_8cpp-source.html">surf.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="120a73cb93a4447d62c3d27713735be0"></a><!-- doxytag: member="CSurf::nearest_neighbor_2" ref="120a73cb93a4447d62c3d27713735be0" args="(int *query, int *example_pairs, int n_examples, CvPoint p, CvMat *newmat, float dist)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int CSurf::nearest_neighbor_2           </td>
          <td>(</td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>query</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>example_pairs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>n_examples</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CvPoint&nbsp;</td>
          <td class="paramname"> <em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CvMat *&nbsp;</td>
          <td class="paramname"> <em>newmat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&nbsp;</td>
          <td class="paramname"> <em>dist</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
simple nearest neightbour classifier 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>query</em>&nbsp;</td><td>vector of 64 integer to classify </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>example_pairs</em>&nbsp;</td><td>vector of 64*samples in which the query vectors are classified </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>n_examples</em>&nbsp;</td><td>number fo samples in example_pairs vector This function is a simple classifier based on the euclidean distance. Best match is the one with less distance to the samples. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>a list of n number of the categories or -1 if it's not found. </dd></dl>

<p>
If a result has a distance less than 15000 and a ratio between the minimum distance and the second best greater than 0.9 the <a class="el" href="structpoint.html">point</a> is rejected as not found 
<p>Definition at line <a class="el" href="surf_8cpp-source.html#l00459">459</a> of file <a class="el" href="surf_8cpp-source.html">surf.cpp</a>.</p>

<p>Referenced by <a class="el" href="tracker__surf_8cpp-source.html#l00024">CTracker_surf::Match()</a>.</p>

</div>
</div><p>
<a class="anchor" name="2cec31580377cc854dd2a353a73a78b0"></a><!-- doxytag: member="CSurf::gaussian" ref="2cec31580377cc854dd2a353a73a78b0" args="(IplImage *img)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CSurf::gaussian           </td>
          <td>(</td>
          <td class="paramtype">IplImage *&nbsp;</td>
          <td class="paramname"> <em>img</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="surf_8cpp-source.html#l00602">602</a> of file <a class="el" href="surf_8cpp-source.html">surf.cpp</a>.</p>

<p>References <a class="el" href="main_8cpp-source.html#l00034">c</a>.</p>

<p>Referenced by <a class="el" href="surf_8cpp-source.html#l00213">descriptor()</a>.</p>

</div>
</div><p>
<hr><h2>Member Data Documentation</h2>
<a class="anchor" name="b73cacd646eaa528151311451ec4dc73"></a><!-- doxytag: member="CSurf::img" ref="b73cacd646eaa528151311451ec4dc73" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">IplImage* <a class="el" href="class_c_surf.html#b73cacd646eaa528151311451ec4dc73">CSurf::img</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="surf_8h-source.html#l00043">43</a> of file <a class="el" href="surf_8h-source.html">surf.h</a>.</p>

<p>Referenced by <a class="el" href="tracker__surf_8cpp-source.html#l00175">CTracker_surf::Descriptor()</a>, <a class="el" href="surf_8cpp-source.html#l00213">descriptor()</a>, <a class="el" href="surf_8cpp-source.html#l00521">find_features()</a>, <a class="el" href="tracker__surf_8cpp-source.html#l00121">CTracker_surf::Init()</a>, <a class="el" href="tracker__surf_8cpp-source.html#l00024">CTracker_surf::Match()</a>, and <a class="el" href="surf_8cpp-source.html#l00029">non_max_sup()</a>.</p>

</div>
</div><p>
<a class="anchor" name="0ec2732a1d85f13d630f33c55e31d74f"></a><!-- doxytag: member="CSurf::integral" ref="0ec2732a1d85f13d630f33c55e31d74f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">IplImage* <a class="el" href="class_c_surf.html#0ec2732a1d85f13d630f33c55e31d74f">CSurf::integral</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="surf_8h-source.html#l00044">44</a> of file <a class="el" href="surf_8h-source.html">surf.h</a>.</p>

<p>Referenced by <a class="el" href="surf_8cpp-source.html#l00521">find_features()</a>, <a class="el" href="surf_8cpp-source.html#l00195">wl_horz()</a>, and <a class="el" href="surf_8cpp-source.html#l00183">wl_vert()</a>.</p>

</div>
</div><p>
<a class="anchor" name="9b93d361cb5370fffe7af508fadcc227"></a><!-- doxytag: member="CSurf::det_thres" ref="9b93d361cb5370fffe7af508fadcc227" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="class_c_surf.html#9b93d361cb5370fffe7af508fadcc227">CSurf::det_thres</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="surf_8h-source.html#l00045">45</a> of file <a class="el" href="surf_8h-source.html">surf.h</a>.</p>

<p>Referenced by <a class="el" href="surf_8cpp-source.html#l00029">non_max_sup()</a>.</p>

</div>
</div><p>
<a class="anchor" name="0614396528b98e1d8455b9c412f81274"></a><!-- doxytag: member="CSurf::cur_thres" ref="0614396528b98e1d8455b9c412f81274" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="class_c_surf.html#0614396528b98e1d8455b9c412f81274">CSurf::cur_thres</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="surf_8h-source.html#l00046">46</a> of file <a class="el" href="surf_8h-source.html">surf.h</a>.</p>

<p>Referenced by <a class="el" href="surf_8cpp-source.html#l00029">non_max_sup()</a>.</p>

</div>
</div><p>
<hr>The documentation for this class was generated from the following files:<ul>
<li>D:/SLAM/Programas/slamsvn/src/<a class="el" href="surf_8h-source.html">surf.h</a><li>D:/SLAM/Programas/slamsvn/src/<a class="el" href="surf_8cpp-source.html">surf.cpp</a></ul>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Wed Aug 27 22:08:08 2008 for 3DSlam by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.6 </small></address>
</body>
</html>
